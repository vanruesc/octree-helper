/**
 * octree-helper v1.1.4 build Fri May 01 2020
 * https://github.com/vanruesc/octree-helper
 * Copyright 2020 Raoul van Rüschen
 * @license Zlib
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],t):t((e=e||self).OCTREEHELPER={},e.THREE)}(this,(function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}
/**
   * sparse-octree v6.0.2 build Sat Jan 18 2020
   * https://github.com/vanruesc/sparse-octree
   * Copyright 2020 Raoul van Rüschen
   * @license Zlib
   */var f=[new Uint8Array([0,4]),new Uint8Array([1,5]),new Uint8Array([2,6]),new Uint8Array([3,7]),new Uint8Array([0,2]),new Uint8Array([1,3]),new Uint8Array([4,6]),new Uint8Array([5,7]),new Uint8Array([0,1]),new Uint8Array([2,3]),new Uint8Array([4,5]),new Uint8Array([6,7])],c=[new Uint8Array([0,0,0]),new Uint8Array([0,0,1]),new Uint8Array([0,1,0]),new Uint8Array([0,1,1]),new Uint8Array([1,0,0]),new Uint8Array([1,0,1]),new Uint8Array([1,1,0]),new Uint8Array([1,1,1])],s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(y,e);var o,a,s,l=u(y);function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r(this,y),(e=l.call(this)).name="OctreeHelper",e.octree=t,e.update(),e}return o=y,(a=[{key:"createLineSegments",value:function(e,r){var n,o,i,a,u,s,l,y,p,h,w,d,A,b,v,U,m=Math.pow(2,16)/8-1,g=new t.Group,O=new t.LineBasicMaterial({color:16777215*Math.random()});for(h=0,i=0,b=Math.ceil(r/m);b>0;--b){for(i+=r<m?r:m,r-=m,o=8*i,a=new Uint16Array(3*o),u=new Float32Array(3*o),d=0,A=0,n=e.next();!n.done&&h<i;){for(l=(s=n.value).min,y=s.max,w=0;w<12;++w)U=f[w],a[A++]=d+U[0],a[A++]=d+U[1];for(w=0;w<8;++w,++d)v=c[w],u[3*d]=0===v[0]?l.x:y.x,u[3*d+1]=0===v[1]?l.y:y.y,u[3*d+2]=0===v[2]?l.z:y.z;++h<i&&(n=e.next())}(p=new t.BufferGeometry).setIndex(new t.BufferAttribute(a,1)),p.setAttribute("position",new t.BufferAttribute(u,3)),g.add(new t.LineSegments(p,O))}this.add(g)}},{key:"update",value:function(){var e,t=null!==this.octree?this.octree.getDepth():-1,r=0;for(this.dispose();r<=t;)e=this.octree.findNodesByLevel(r),this.createLineSegments(e[Symbol.iterator](),"number"==typeof e.size?e.size:e.length),++r}},{key:"dispose",value:function(){var e,t,r,n,o,i,a=this.children;for(r=0,o=a.length;r<o;++r){for(n=0,i=(t=(e=a[r]).children).length;n<i;++n)t[n].geometry.dispose(),t[n].material.dispose();for(;t.length>0;)e.remove(t[0])}for(;a.length>0;)this.remove(a[0])}}])&&n(o.prototype,a),s&&n(o,s),y}(t.Group);e.OctreeHelper=s,Object.defineProperty(e,"__esModule",{value:!0})}));
